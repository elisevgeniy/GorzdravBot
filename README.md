# üè• GorzdravBot | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –∫ –≤—Ä–∞—á—É

<!--–ë–ª–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ –±–µ–π–¥–∂–∞—Ö-->
![Static Badge](https://img.shields.io/badge/elisevgeniy-GorzdravBot-GorzdravBot)
[![Build Status](https://img.shields.io/github/actions/workflow/status/elisevgeniy/GorzdravBot/build.yml?branch=master)](https://github.com/elisevgeniy/GorzdravBot/actions)
![GitHub top language](https://img.shields.io/github/languages/top/elisevgeniy/GorzdravBot)
![GitHub](https://img.shields.io/github/license/elisevgeniy/GorzdravBot)
![GitHub issues](https://img.shields.io/github/issues/elisevgeniy/GorzdravBot)
![GitHub Repo stars](https://img.shields.io/github/stars/elisevgeniy/GorzdravBot)

–£–º–Ω—ã–π –±–æ—Ç –Ω–∞ Java –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –∫ –≤—Ä–∞—á—É —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å ¬´–ì–æ—Ä–∑–¥—Ä–∞–≤¬ª.
–ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–∫–∞—Ö –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç](#-–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-–±–æ—Ç)

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üïµÔ∏è‚Äç‚ôÇÔ∏è –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–º–µ—Ä–∫–æ–≤
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–º–µ—Ä–∫–æ–≤

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 21+
- Apache Maven 3.8+
- Postgres 17+
- Telegram –±–æ—Ç ([—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞](#-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–±–æ—Ç–∞))

## üí¨ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –µ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å `name` –∏ `token` –±–æ—Ç–∞.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ [–æ—Ñ. —Å–∞–π—Ç–µ](https://core.telegram.org/bots/features#creating-a-new-bot).

## üöÄ –ó–∞–ø—É—Å–∫

–ï—Å—Ç—å 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞: —Å –ø–æ–º–æ—â—å—é [Maven](#-—Å-–ø–æ–º–æ—â—å—é-maven), [JAR —Ñ–∞–π–ª–∞](#-—Å-–ø–æ–º–æ—â—å—é-jar-—Ñ–∞–π–ª–∞), 
[Docker Run](#-—Å-–ø–æ–º–æ—â—å—é-docker-docker-run) –∏ [Docker compose](#-—Å-–ø–æ–º–æ—â—å—é-docker-docker-compose).

### üî® –° –ø–æ–º–æ—â—å—é Maven

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   ```
   git clone https://github.com/elisevgeniy/GorzdravBot.git
   cd GorzdravBot
   ```
2. –ü–æ–ª—É—á–∏—Ç—å `username`, `password` –∏ `database name` –æ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–π PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ó–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª `src/main/resources/application.yaml` –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ ```mvnw spring-boot:run```

### üê≥ –° –ø–æ–º–æ—â—å—é Docker (docker run)

1. –ü–æ–ª—É—á–∏—Ç—å `username`, `password` –∏ `database name` –æ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–π PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é cmd –Ω–∞ windows (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å –ø–æ–º–æ—â—å—é bash –Ω–∞ linux –∑–∞–º–µ–Ω–∏—Ç–µ `^` –Ω–∞ `\`).<br>
   –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å–µ—Ç—å `--net` –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö<br>
   ``` 
    java ^
    -e DATABASE_URL="localhost:5432" ^
    -e DATABASE_USER="user" ^
    -e DATABASE_PASSWORD="123" ^
    -e DATABASE_NAME="gorzdrav_bot" ^
    -e BOT_NAME="NameOfYourBot" ^
    -e BOT_TOKEN="12334566:SDfsdfdsfdsfsdfsdFDSfdsfdsfsdf" ^
    -e LOKI_URL="http://localhost:3100" ^
    -e LOKI_AUTH="username" ^
    -e LOKI_PASSWORD="password" ^
    -e AUTH_USERNAME="admin" ^
    -e AUTH_PASSWORD="password" ^
    --net=host ^
    ghcr.io/elisevgeniy/gorzdravbot
    ```
   `LOKI_URL=` - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º

### üê≥ –° –ø–æ–º–æ—â—å—é Docker (docker compose)

   1. –°–∫–∞—á–∞—Ç—å [docker-compose.yaml](docker/docker-compose.yml) –∏ [.env_example](docker/.env_example)
   2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å `.env_example` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `.env`.
   3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π `docker compose up -d` 

### ‚ô®Ô∏è –° –ø–æ–º–æ—â—å—é JAR —Ñ–∞–π–ª–∞

1. –°–∫–∞—á–∞—Ç—å `jar` —Ñ–∞–π–ª –∏–∑ [—Ä–µ–ª–∏–∑–∞](https://github.com/elisevgeniy/GorzdravBot/releases)
2. –ü–æ–ª—É—á–∏—Ç—å `username`, `password` –∏ `database name` –æ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–π PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é cmd –Ω–∞ windows (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å –ø–æ–º–æ—â—å—é bash –Ω–∞ linux –∑–∞–º–µ–Ω–∏—Ç–µ `^` –Ω–∞ `\`)

   ``` 
   java ^
   -DDATABASE_URL=localhost:5432 ^
   -DDATABASE_USER=user ^
   -DDATABASE_PASSWORD=123 ^
   -DDATABASE_NAME=gorzdrav_bot ^
   -DBOT_NAME=NameOfYourBot ^
   -DBOT_TOKEN=12334566:SDfsdfdsfdsfsdfsdFDSfdsfdsfsdf ^
   -DLOKI_URL=http://localhost:3100 ^
   -DLOKI_AUTH=username ^
   -DLOKI_PASSWORD=password ^
   -DAUTH_USERNAME=admin ^
   -DAUTH_PASSWORD=password ^
   -jar GorzdravBot-{version}.jar
   ```
   `LOKI_URL=` - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º

## üìÉ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É –Ω–∞ –ø–æ–∏—Å–∫ –Ω–æ–º–µ—Ä–∫–æ–≤.
2. –ë–æ—Ç —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–∏—Å–∫ –Ω–æ–º–µ—Ä–∫–æ–≤ –ø–æ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º –∑–∞–¥–∞—á–∞–º.
3. –ï—Å–ª–∏ –Ω–æ–º–µ—Ä–∫–∏ –µ—Å—Ç—å, –æ–Ω–∏ –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–æ–∫. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ
   –≤—Ä–µ–º—è.
4. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É—Å–ø–µ–ª –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É, —Ç–æ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –±–æ—Ç —Å–∞–º –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç **–Ω–∞ —Å–∞–º–æ–µ —Ä–∞–Ω–µ–µ –≤—Ä–µ–º—è**.

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞:
1. –ü–æ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω–æ–º–µ—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –∏/–∏–ª–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—Ç—å;
2. –ü–æ –¥–∞—Ç–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å:
    1. –∫–æ–Ω—á–µ–Ω—É—é –¥–∞—Ç—É, –¥–∞–ª—å—à–µ, –∫–æ—Ç–æ—Ä–æ–π –Ω–æ–º–µ—Ä–∫–∏ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è;
    2. –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω–æ–º–µ—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –∏/–∏–ª–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—Ç—å;